# Firebase Auth Quickstart

The Firebase Auth Test Application (testapp) demonstrates authentication
and user profile operations with the Firebase Auth Unity SDK. The application
has buttons allowing you to:

 - Create a new firebase login
 - Sign in (and then auto-signout) using an existing login
 - Sign in (and then auto-signout) using email credentials
 - Delete a firebase login

The testapp performs the following:
  - Creates a firebase::App in a platform-specific way. The App holds
    platform-specific context that's used by other Firebase APIs.
  - Gets a pointer to firebase::Auth. The Auth class is the gateway to all
    Firebase Authentication functionality.
  - Calls every member function on firebase::Auth. Many of these functions are
    asynchronous, since they communicate with a server. Asynchronous functions
    return a firebase::Future class, which we wait on until the call completes.
    In practice, you will probably want to register a callback on the Future,
    or poll it periodically instead of waiting for it to complete.
  - Gets a pointer to firebase::User. The User class allows account manipulation
    and linking. It's returned by every Auth sign-in operation, and the
    currently active User is available via Auth::CurrentUser(). Only one User
    can be active at a time.
  - Calls every member function on firebase::User.



  receiving Firebase Authentication using the Firebase Unity SDK.


## Requrements

The testapp requires version 5.3 of Unity or higher.


## Introduction

[Read more about Firebase Authentication](https://firebase.google.com/docs/auth/)


## Building the testapp

### Android

  - Register your Android app with Firebase.
    - Create a new app on the [Firebase
      console](https://firebase.google.com/console/), and attach your Android
      app to it.
      - You can use "com.google.android.auth.testapp" as the Package Name
        while you're testing.
      - To [generate a SHA1](https://developers.google.com/android/guides/client-auth)
        run this command on Mac and Linux,
        ```
        keytool -exportcert -list -v -alias androiddebugkey -keystore ~/.android/debug.keystore
        ```
        or this command on Windows,
        ```
        keytool -exportcert -list -v -alias androiddebugkey -keystore %USERPROFILE%\.android\debug.keystore
        ```
      - If keytool reports that you do not have a debug.keystore, you can
        [create one with](http://developer.android.com/tools/publishing/app-signing.html#signing-manually),
        ```
        keytool -genkey -v -keystore ~/.android/debug.keystore -storepass android -alias androiddebugkey -keypass android -dname "CN=Android Debug,O=Android,C=US"
        ```
    - In Firebase console, select "Auth", then enable "Email/Password", and also
      enable "Anonymous". This will allow the testapp to use email accounts and
      anonymous sign-in.
    - Download a `google-services.json` file from the Firebase console.
      This file identifies your Android app to the Firebase backend, and will
      need to be included in the testapp later.
    - For further details please refer to the [general
      instructions for setting up an Android app with
      Firebase](https://firebase.google.com/docs/android/setup).
  - Download the [Firebase Unity SDK](https://dev-partners.googlesource.com/unity-firebase/+archive/zip.tar.gz)
    and unzip it somewhere convenient.
  - Open the testapp project in the Unity editor.
  - Open the scene MainScene
  - Import the custom package FirebaseApp.unitypackage from the Firebase
    Unity SDK, downloaded previously.  (From the menu, select
    Assets > Import Package > Custom Package)
  - Import the custom package FirebaseAuth.unitypackage in the same way.
  - Take the `google-services.json` that was downloaded earlier, and copy it
    into your the testapp's `Assets` directory.
    (Note: This has to be done after the packages are loaded, so that the plugin
    notices the file and generates the appropriate resource files.)
  - Double check:  At this point, several files should have been generated by
    the plugin, and be present in your `Assets` directory:
     - `Assets/Plugins/Android/Firebase/res/values/google-services.xml`
     - `Assets/Plugins/Android/firebase-common-9.0.0` (Directory)
     - `Assets/Plugins/Android/firebase-iid-9.0.0` (Directory)
     - `Assets/Plugins/Android/firebase-Auth-9.0.0.aar`
     - `Assets/Plugins/Android/play-services-base-9.0.0.aar`
     - `Assets/Plugins/Android/play-services-basement-9.0.0.aar`
     - `Assets/Plugins/Android/play-services-tasks-9.0.0.aar`
  - Build the Unity project and run it on your Android device.


### iOS

  - Register your iOS app with Firebase.
    - Create a new app on the [Firebase
      console](https://firebase.google.com/console/), and attach your iOS
      app to it.
      - You can use "com.google.ios.Auth.testapp" as the Package Name
        while you're testing.
    - Download a `GoogleService-Info.plist` file from the Firebase console.
      This file identifies your iOS app to the Firebase backend, and will
      need to be included in the testapp later.
    - For further details please refer to the [general instructions for setting
      up an iOS app with Firebase](https://firebase.google.com/docs/ios/setup).
  - Download the [Firebase Unity SDK](https://dev-partners.googlesource.com/unity-firebase/+archive/zip.tar.gz)
    and unzip it somewhere convenient.
  - Open the testapp project in the Unity editor.
  - Open the scene MainScene
  - Import the custom package FirebaseApp.unitypackage from the Firebase
    Unity SDK, downloaded previously.  (From the menu, select
    Assets > Import Package > Custom Package)
  - Import the custom package FirebaseAuth.unitypackage in the same way.
  - Build your project for iOS.
  - Navigate to the xcode project that was created by Unity, and create a new
    file called Podfile, with the following contents:
    ```
    source 'https://github.com/CocoaPods/Specs.git'
    platform :ios, '8.0'

    target 'Unity-iPhone' do
      pod 'Firebase/Auth'
    end
    ```
  - From the terminal, navigate to the project directory, and run `pod install`.
  - From the terminal, run `open Unity-iPhone.xcworkspace` to open xcode.
    (Important: Launch it from `Unity-iPhone.xcworkspace` and not
    `Unity-iPhone.xcproject`.  Launching from `Unity-iPhone.xcproject` will
    cause problems.)
  - Under 'Build Settings' of the project, add `$(inherited)` to "Other Linker
    Flags".
  - Drag the `GoogleServices-Info.plist` file from finder into the root of the
    project in xcode.
  - In your project's Info tab, under the URL Types section, add a new URL
    Type with the Identifier `google`, and URL Schemes with the value of the
    REVERSED_CLIENT_ID string in your GoogleService-Info.plist.
  - Add an additional URL Type, with both the Identifier and URL Schemes set
    to your package name, i.e. "com.google.ios.Auth.testapp".
  - Build the Unity project and run it on your iOS device.


## Using the testapp

- When you run the app, it will allow you to provide usernames and passwords
  via text input fields.
- To create a new firebase user, enter a username and password, and click the
  "Create User" button.  This will attempt to register the user name provided
  with your Firebase app.
- Use the other buttons to test signing in and deleting users.
- If successful, you can view user creation/deletion in the
  [Firebase console.](https://firebase.google.com/console/)

## Support

[https://firebase.google.com/support/]()


## License

Copyright 2016 Google, Inc.

Licensed to the Apache Software Foundation (ASF) under one or more contributor
license agreements.  See the NOTICE file distributed with this work for
additional information regarding copyright ownership.  The ASF licenses this
file to you under the Apache License, Version 2.0 (the "License"); you may not
use this file except in compliance with the License.  You may obtain a copy of
the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
License for the specific language governing permissions and limitations under
the License.

